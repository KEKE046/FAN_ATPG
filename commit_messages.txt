Refactor - 14th modification

  name changes:
    all g in atph.h/cpp => gate
  performance related changes:
  debug:
  note: